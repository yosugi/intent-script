# IntentScript

AI がコードを生成する時代においては、「何をしたいか」という意図の明確な伝達が新たな課題となっている。
IntentScript は、その課題に応えるために設計された、人とAIのための意図記述言語である。

このドキュメントは、IntentScript の言語仕様と設計思想を公開・共有することを目的としている。

## 概要

従来のプログラミング言語が「どのように実装するか」に焦点を当ててきたのに対し、
IntentScript は「何をするか」を記述することに特化している。特に以下の設計方針に基づいている。

* LLMによる解釈と実装を前提とした構成
* YAML ベースで専用パーサ不要な構文
* チューリング完全性の回避
* 漸進的形式性（自然言語と形式言語の中間表現）のサポート
* 習得コストゼロ
  * 自然言語のまま書くことも可能なため、プログラミング経験がなくてもすぐに使い始めることができる
* 環境構築コストゼロ
  * LLM に IntentScript を読ませるだけで即実行できる
* AIによる柔軟なエラー処理と例外対応

## 主な機能

* 型と属性による構造化
* 関数による処理の流れや計算方法の宣言的定義
* パイプライン構文による集計や絞り込みの簡潔な記述
* コメントや自然言語による意図の補足と共有
* 条件分岐による動的な値の切り替え
* 外部定義の読み込みによる機能拡張

## 仕様書

IntentScript の仕様は以下のドキュメントに記載されている。

* [intent-script-spec.md](intent-script-spec.md)

内容には以下が含まれる。

* 意図記述の設計方針
* 漸進的形式性に関する 3 段階の記述レベル
* エンティティ定義と関数定義の書式
* 属性オプションの表記方法
* 型システムの構成
* パイプライン構文の使用方法と標準関数

## 記述例

```yaml
Product:
  name: string{required, max_length: 100}
  price: int{min: 1}
  discount_rate: 0.8
  tag: list<string>{max_items: 5}
  discount_price: int{
    derive: price * (1 - discount_rate)
  }
```

各項目は日本語でも記述できる。

```yaml
送料の計算:
  説明: "重さと距離に基づいて送料を計算する"
  入力:
    重さ: int{unit: kg}
    距離: int{unit: km}
  出力: int
  計算内容: |
    基本料金は500円。
    重さ1kgごとに200円を加算。
    距離100kmごとに100円を加算。
```

## ファイル構成

```
├── intent-script-spec-en.md # IntentScript 言語仕様書(英語版)
├── intent-script-spec.md    # IntentScript 言語仕様書
├── LICENSE                  # ライセンス (MIT)
├── README-en.md             # README(英語版)
└── README.md                # このファイル
```

## 今後の検討課題

バージョン 0.0.1 では最小限の構成にとどめている。
以下は今後の拡張に向けて検討中の課題である。

* エラー処理やバリデーション
* 列挙型、依存型、条件付き制約などの実用的な表記
* 複合型（Union / Intersection 型）への対応
* ジェネリックなエンティティ定義の導入（例：User<T> など
* 大規模開発を見据えたパッケージ構成（名前空間やスコープ管理）の導入
* テンプレート等、再利用のための文法
* 自然言語コメントとの整合性検証や、曖昧な表現に対する AI による補完・指摘支援

## 謝辞

このドキュメントはもとより、IntentScript の発想自体も AI との対話から生まれました。
AI の支援に感謝します。

## ライセンス

MIT License に基づいて公開する。

